<div class="header-page">
  <span>Đánh giá năm {{selectedYear}}</span>
</div>
<div class="content-page">
  <year-picker></year-picker>
  <mat-form-field class="full-width">
    <mat-label>Chi bộ</mat-label>
    <mat-select [formControl]="selectedChiBo" (selectionChange)="onChiBoChange($event)">
      <mat-option *ngFor="let cb of chiBos" [value]="cb.maChiBo">
        {{cb.tenChiBo}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field appearance="legacy">
    <mat-label>Xếp hạng loại</mat-label>
    <mat-select [formControl]="xepLoaiChiBo">
      <mat-option *ngFor="let xeploai of danhSachXepLoai" [value]="xeploai.value">
        {{xeploai.display}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <div *ngIf="isShow" [formGroup]="danhGiaFormGroup">
    <div class="flex" *ngFor="let data of displayData">
      <label>{{data.tenDangDung}}</label>
      <div>
        <mat-form-field appearance="legacy" style="width: 50%;">
          <mat-label>Xếp hạng loại</mat-label>
          <mat-select formControlName="{{data.soTheDangVien}}">
            <mat-option *ngFor="let xeploai of danhSachXepLoai" [value]="xeploai.value">
              {{xeploai.display}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <div *ngIf="!displayData.length">
      Không có đảng viên nào thuộc chi bộ
    </div>
    <div class="danhgia-bottom">
      <button mat-button (click)="onSaveClick()" cdkFocusInitial>Lưu</button>
    </div>
  </div>
</div>
